<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>my emacs practice | a usr/bin</title>
<meta name="keywords" content="emacs">
<meta name="description" content="我的emacs实践（持续更新 2020-06-13-2020-06-22） emacs是一个开源的编辑器，那么它为什么存在，我能怎么使用它，解决">
<meta name="author" content="">
<link rel="canonical" href="https://ppphp.github.io/posts/2020-06-12-my-emacs-practice/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.1740750342264a4e69b84ddf6899fb02cc95465080d85c57c08bb1d110900bf6.css" integrity="sha256-F0B1A0ImSk5puE3faJn7AsyVRlCA2FxXwIux0RCQC/Y=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://ppphp.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://ppphp.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://ppphp.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://ppphp.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://ppphp.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="my emacs practice" />
<meta property="og:description" content="我的emacs实践（持续更新 2020-06-13-2020-06-22） emacs是一个开源的编辑器，那么它为什么存在，我能怎么使用它，解决" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ppphp.github.io/posts/2020-06-12-my-emacs-practice/" /><meta property="article:section" content="posts" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="my emacs practice"/>
<meta name="twitter:description" content="我的emacs实践（持续更新 2020-06-13-2020-06-22） emacs是一个开源的编辑器，那么它为什么存在，我能怎么使用它，解决"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://ppphp.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "my emacs practice",
      "item": "https://ppphp.github.io/posts/2020-06-12-my-emacs-practice/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "my emacs practice",
  "name": "my emacs practice",
  "description": "我的emacs实践（持续更新 2020-06-13-2020-06-22） emacs是一个开源的编辑器，那么它为什么存在，我能怎么使用它，解决",
  "keywords": [
    "emacs"
  ],
  "articleBody": " 我的emacs实践（持续更新 2020-06-13-2020-06-22） emacs是一个开源的编辑器，那么它为什么存在，我能怎么使用它，解决什么样的问题呢？\n我其实没有什么资格来教别人怎么使用emacs，但是记录一下自己的使用心得，并不是很过分的事情。\n我用emacs之前的编辑器 我在大学之前没编程过，编程确实不是什么了不起的技能，只要会一点英语和数学常识就能编了。\n大学开始（2014年）用的第一个编辑器是Code::Blocks。是编程入门课的统一IDE。这是一个开源的c++ IDE。我觉得它不好，但是当时用的是windows，找到一个在windows下运行良好的IDE还挺少的，上课规定用，就将就用用呗。大一之后就再也没碰过了。\n大二学的语言是javascript，我当时学的非常认真扎实，只可惜这些前es6知识基本都用不上了，我个人也不会用这些乱糟糟的===这种东西。这时候我用的软件一开始是webstorm，我也没觉得这玩意多厉害，还觉得花里胡哨没用。那会react都没出，前端都是一泡浆糊，用啥都是菜。后来换了sublime，也没好多少。\n大三接触了很多编程相关的东西，开始用起了atom。不得不说，atom也是个菜，提示高亮跟sublime没有本质区别，优点是比sublime方便装插件。这也是我第一次感受到插件的力量，虽然完全不好用。实习，写python, ETL，做大数据，用了pycharm，让我第一次感到一个好的IDE是多么的感人，注意了jetbrains这家公司，太牛比了。\n大四，开始准备找工作，在服务器上用vim写ruby on rails。其实大三开始就在学这个，但是rails知识点太多，我又是为了学而学的，就很僵硬，一直都没怎么学会。工作找了一份写golang的，至今，用的是goland工作，期间也在改emacs。\n工作一直用goland，使用至今，emacs不常用，但是还是一直在改，商用IDE毕竟还是有个上限，goland很高了，但是emacs可以更高一点，虽然下限低的多。\n使用emacs，不是因为多好用，前期是因为社区大牛都在用，比如松本行弘用了emacs，他在书里还特意推荐了这个编辑器。对于linux爱好者来说，可以代表GNU编辑器也就是emacs了。\n后期是因为emacs-china的社区氛围太好了，几个大哥都很厉害，ccls的作者，centaur-emacs的作者，posframe的作者。还有一些比较土的，虽然不怎么帮的上我，但是也挺热心。\n我的emacs入门 初学阶段的我，emacs写golang的体验，那是被goland吊起来打。goland光是一个数据库和git插件，就不是emacs浑身解数可比的，现在已经支持了magit的大部分功能，还比emacs+magit好看，一致性强。数据库就不用多说了，我还没用过比它方便开发的软件。\n完全是混沌模式入门的我，学emacs卡在哪里了呢？\n首先是emacs的破ui，基本是没有ui，一般教程一上来都是调整linum这种非常非常基本的东西，本不应该让用户做的。学习曲线接近没有。\n其次是elisp，这玩意就是个垃圾。lisp已经够难用了，elisp还是残废品，简直还不如javascript，跟css难度不相上下。\n最后是emacs的生态，原始人一般的org，约等于没有的layout实现，还有c语言实现的本体，简直是史前世界。我真的不懂，他们怎么往emacs的repo里灌那么多c语言的东西的，我用它的原因就是可以改，这么灌代码让我很头疼。\n这个东西知识曲线真的就是放屁，如果不是对代码有极大的热情，而且对自己能力很自信，真的别用这个。\nemacs基本键位 emacs风格的快捷键，用的最多的，就是Ctrl和Alt了，这也是用户很多rsi的原因（比如RMS，李杀）。不过初学还是用这个比较好，一般我们用C来代表Ctrl，M代表Alt，毕竟快捷键不会用键盘字母开头，不然还怎么打字，一会蹦一个功能的。\n教emacs是不会介绍左键右键，菜单栏这种鼠标操作的，编辑代码来说，鼠标操作不是最优的，习惯快捷键比较好。\nemacs的初学教程，会教我用C-n C-p这种上下左右操作，但是2020年了，这种初学肯定都是鼠标了，上下左右page up page down也没有慢多少，就教几个必用的就行。\nC-s 保存 C-x C-c 退出 C-x C-f 打开文件\n记住这三个，我操作emacs就八九不离十了。\nemacs最重要的快捷键 除上面之外，还有个最重要的快捷键。\nemacs一些人说精髓在于，键盘操作怎么怎么的，在与elisp怎么怎么的。我觉得都不是。\nemacs的精髓在于M-x，这是emacs前期提升最重要的快捷键，这个是函数大全，所有emacs的函数都会在这里得到。\nelisp是什么 我觉得一开始的话，elisp并不需要学习，只要会用require，或者use-package，从大牛的配置照猫画虎就行。lisp虽然不好写，但是并不是很难读。\n编辑简单代码需要什么 单文件编辑 我拿单文件编辑做思考，如何使用在一个文件内写代码。为什么是一个文件，因为一般用vim改改配置，也是在一个文件里的。至少不能比vim差太多吧，不然就用vim去了。\n代码高亮 代码高亮是必须的，首先是关键字高亮，然后是函数和变量和字面量，其他特性编程语言之间并不共通。比如有的语言没有类型，有的语言没有模板，有的语言没有继承。\n代码补全 代码不补全，不如用txt写代码了。\n编辑必备功能 复制粘贴剪切撤回，这几个是编辑必备的。\nemacs里做以上的功能 major mode emacs实现代码高亮，主要用了major mode的概念。当然major mode不止是代码高亮，不过现在还顾不上其他功能。\nmajor mode中文可以叫主模式，这个翻译并不能太帮助理解，所以一般还是叫major mode减少歧义（其实英文也不能帮助理解，叫中文也行）。\nmajor mode是个统称，用的时候是用各自语言的mode。比如编辑ruby用ruby-mode，编辑python用python-mode，编辑c用c-mode。\n大部分major mode在打开文件的时候确定。主要按照文件的后缀来分辨是哪个major mode。比如打开.rb就用ruby-mode，打开.py就用python-mode。\n如果打开的代码没有高亮，那说明你的emacs还没有支持这个后缀对应到代码的major mode的功能。但是不代表没有major mode，按下C-h m可以查看当前的mode（或者M-x describe-mode）。\ncompany emacs默认不提供补全，得安装插件，是不是很惊喜？\n安装company插件可以提供补全，这是目前emacs唯一补全插件。\n基本快捷键 复制 M-w，粘贴C-y，剪切C-w，撤销C-/。四个快捷键，就这么简单。\n",
  "wordCount" : "2752",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://ppphp.github.io/posts/2020-06-12-my-emacs-practice/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "a usr/bin",
    "logo": {
      "@type": "ImageObject",
      "url": "https://ppphp.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://ppphp.github.io/" accesskey="h" title="a usr/bin (Alt + H)">a usr/bin</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      my emacs practice
    </h1>
    <div class="post-meta">

</div>
  </header> 
  <div class="post-content">
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
我的emacs实践（持续更新 2020-06-13-2020-06-22）
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>
  emacs是一个开源的编辑器，那么它为什么存在，我能怎么使用它，解决什么样的问题呢？</p>
<p>
  我其实没有什么资格来教别人怎么使用emacs，但是记录一下自己的使用心得，并不是很过分的事情。</p>
<div id="outline-container-headline-2" class="outline-3">
<h3 id="headline-2">
我用emacs之前的编辑器
</h3>
<div id="outline-text-headline-2" class="outline-text-3">
<p>
   我在大学之前没编程过，编程确实不是什么了不起的技能，只要会一点英语和数学常识就能编了。</p>
<p>
   大学开始（2014年）用的第一个编辑器是Code::Blocks。是编程入门课的统一IDE。这是一个开源的c++ IDE。我觉得它不好，但是当时用的是windows，找到一个在windows下运行良好的IDE还挺少的，上课规定用，就将就用用呗。大一之后就再也没碰过了。</p>
<p>
   大二学的语言是javascript，我当时学的非常认真扎实，只可惜这些前es6知识基本都用不上了，我个人也不会用这些乱糟糟的===这种东西。这时候我用的软件一开始是webstorm，我也没觉得这玩意多厉害，还觉得花里胡哨没用。那会react都没出，前端都是一泡浆糊，用啥都是菜。后来换了sublime，也没好多少。</p>
<p>
   大三接触了很多编程相关的东西，开始用起了atom。不得不说，atom也是个菜，提示高亮跟sublime没有本质区别，优点是比sublime方便装插件。这也是我第一次感受到插件的力量，虽然完全不好用。实习，写python, ETL，做大数据，用了pycharm，让我第一次感到一个好的IDE是多么的感人，注意了jetbrains这家公司，太牛比了。</p>
<p>
   大四，开始准备找工作，在服务器上用vim写ruby on rails。其实大三开始就在学这个，但是rails知识点太多，我又是为了学而学的，就很僵硬，一直都没怎么学会。工作找了一份写golang的，至今，用的是goland工作，期间也在改emacs。</p>
<p>
   工作一直用goland，使用至今，emacs不常用，但是还是一直在改，商用IDE毕竟还是有个上限，goland很高了，但是emacs可以更高一点，虽然下限低的多。</p>
<p>
   使用emacs，不是因为多好用，前期是因为社区大牛都在用，比如松本行弘用了emacs，他在书里还特意推荐了这个编辑器。对于linux爱好者来说，可以代表GNU编辑器也就是emacs了。</p>
<p>
   后期是因为emacs-china的社区氛围太好了，几个大哥都很厉害，ccls的作者，centaur-emacs的作者，posframe的作者。还有一些比较土的，虽然不怎么帮的上我，但是也挺热心。</p>
</div>
</div>
<div id="outline-container-headline-3" class="outline-3">
<h3 id="headline-3">
我的emacs入门
</h3>
<div id="outline-text-headline-3" class="outline-text-3">
<p>
   初学阶段的我，emacs写golang的体验，那是被goland吊起来打。goland光是一个数据库和git插件，就不是emacs浑身解数可比的，现在已经支持了magit的大部分功能，还比emacs+magit好看，一致性强。数据库就不用多说了，我还没用过比它方便开发的软件。</p>
<p>
   完全是混沌模式入门的我，学emacs卡在哪里了呢？</p>
<p>
   首先是emacs的破ui，基本是没有ui，一般教程一上来都是调整linum这种非常非常基本的东西，本不应该让用户做的。学习曲线接近没有。</p>
<p>
   其次是elisp，这玩意就是个垃圾。lisp已经够难用了，elisp还是残废品，简直还不如javascript，跟css难度不相上下。</p>
<p>
   最后是emacs的生态，原始人一般的org，约等于没有的layout实现，还有c语言实现的本体，简直是史前世界。我真的不懂，他们怎么往emacs的repo里灌那么多c语言的东西的，我用它的原因就是可以改，这么灌代码让我很头疼。</p>
<p>
   这个东西知识曲线真的就是放屁，如果不是对代码有极大的热情，而且对自己能力很自信，真的别用这个。</p>
<div id="outline-container-headline-4" class="outline-4">
<h4 id="headline-4">
emacs基本键位
</h4>
<div id="outline-text-headline-4" class="outline-text-4">
<p>
    emacs风格的快捷键，用的最多的，就是Ctrl和Alt了，这也是用户很多rsi的原因（比如RMS，李杀）。不过初学还是用这个比较好，一般我们用C来代表Ctrl，M代表Alt，毕竟快捷键不会用键盘字母开头，不然还怎么打字，一会蹦一个功能的。</p>
<p>
    教emacs是不会介绍左键右键，菜单栏这种鼠标操作的，编辑代码来说，鼠标操作不是最优的，习惯快捷键比较好。</p>
<p>
    emacs的初学教程，会教我用C-n C-p这种上下左右操作，但是2020年了，这种初学肯定都是鼠标了，上下左右page up page down也没有慢多少，就教几个必用的就行。</p>
<p>
    C-s 保存 C-x C-c 退出 C-x C-f 打开文件</p>
<p>
    记住这三个，我操作emacs就八九不离十了。</p>
</div>
</div>
<div id="outline-container-headline-5" class="outline-4">
<h4 id="headline-5">
emacs最重要的快捷键
</h4>
<div id="outline-text-headline-5" class="outline-text-4">
<p>
    除上面之外，还有个最重要的快捷键。</p>
<p>
    emacs一些人说精髓在于，键盘操作怎么怎么的，在与elisp怎么怎么的。我觉得都不是。</p>
<p>
    emacs的精髓在于M-x，这是emacs前期提升最重要的快捷键，这个是函数大全，所有emacs的函数都会在这里得到。</p>
</div>
</div>
<div id="outline-container-headline-6" class="outline-4">
<h4 id="headline-6">
elisp是什么
</h4>
<div id="outline-text-headline-6" class="outline-text-4">
<p>
    我觉得一开始的话，elisp并不需要学习，只要会用require，或者use-package，从大牛的配置照猫画虎就行。lisp虽然不好写，但是并不是很难读。</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-7" class="outline-3">
<h3 id="headline-7">
编辑简单代码需要什么
</h3>
<div id="outline-text-headline-7" class="outline-text-3">
<div id="outline-container-headline-8" class="outline-4">
<h4 id="headline-8">
单文件编辑
</h4>
<div id="outline-text-headline-8" class="outline-text-4">
<p>
    我拿单文件编辑做思考，如何使用在一个文件内写代码。为什么是一个文件，因为一般用vim改改配置，也是在一个文件里的。至少不能比vim差太多吧，不然就用vim去了。</p>
<div id="outline-container-headline-9" class="outline-5">
<h5 id="headline-9">
代码高亮
</h5>
<div id="outline-text-headline-9" class="outline-text-5">
<p>
     代码高亮是必须的，首先是关键字高亮，然后是函数和变量和字面量，其他特性编程语言之间并不共通。比如有的语言没有类型，有的语言没有模板，有的语言没有继承。</p>
</div>
</div>
<div id="outline-container-headline-10" class="outline-5">
<h5 id="headline-10">
代码补全
</h5>
<div id="outline-text-headline-10" class="outline-text-5">
<p>
     代码不补全，不如用txt写代码了。</p>
</div>
</div>
<div id="outline-container-headline-11" class="outline-5">
<h5 id="headline-11">
编辑必备功能
</h5>
<div id="outline-text-headline-11" class="outline-text-5">
<p>
     复制粘贴剪切撤回，这几个是编辑必备的。</p>
</div>
</div>
</div>
</div>
<div id="outline-container-headline-12" class="outline-4">
<h4 id="headline-12">
emacs里做以上的功能
</h4>
<div id="outline-text-headline-12" class="outline-text-4">
<div id="outline-container-headline-13" class="outline-5">
<h5 id="headline-13">
major mode
</h5>
<div id="outline-text-headline-13" class="outline-text-5">
<p>
     emacs实现代码高亮，主要用了major mode的概念。当然major mode不止是代码高亮，不过现在还顾不上其他功能。</p>
<p>
     major mode中文可以叫主模式，这个翻译并不能太帮助理解，所以一般还是叫major mode减少歧义（其实英文也不能帮助理解，叫中文也行）。</p>
<p>
     major mode是个统称，用的时候是用各自语言的mode。比如编辑ruby用ruby-mode，编辑python用python-mode，编辑c用c-mode。</p>
<p>
     大部分major mode在打开文件的时候确定。主要按照文件的后缀来分辨是哪个major mode。比如打开.rb就用ruby-mode，打开.py就用python-mode。</p>
<p>
     如果打开的代码没有高亮，那说明你的emacs还没有支持这个后缀对应到代码的major mode的功能。但是不代表没有major mode，按下C-h m可以查看当前的mode（或者M-x describe-mode）。</p>
</div>
</div>
<div id="outline-container-headline-14" class="outline-5">
<h5 id="headline-14">
company
</h5>
<div id="outline-text-headline-14" class="outline-text-5">
<p>
     emacs默认不提供补全，得安装插件，是不是很惊喜？</p>
<p>
     安装company插件可以提供补全，这是目前emacs唯一补全插件。</p>
</div>
</div>
<div id="outline-container-headline-15" class="outline-5">
<h5 id="headline-15">
基本快捷键
</h5>
<div id="outline-text-headline-15" class="outline-text-5">
<p>
     复制 M-w，粘贴C-y，剪切C-w，撤销C-/。四个快捷键，就这么简单。</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://ppphp.github.io/tags/emacs/">emacs</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://ppphp.github.io/">a usr/bin</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
